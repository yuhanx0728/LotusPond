{% extends "takeout/vendor_base.html" %}
{% load mathfilters %}

{% block title %} {{vendor.company_name}}'s Sales Summary {% endblock %}
{% block content %}
  <div class="container">
    <div class="valign-wrapper row">
      <div class="col card hoverable s12 m12 l8 pull-l2">
        <div class="card-content row">
          <table class="highlight centered col s12">
            <tr>
              <td>Meal Number</td>
              <td>Sales Volumes</td>
              <td>Remaining Volumes</td>
              <td>Unit Price($)</td>
              <td>Meal Gross Profit($)</td>
            </tr>
            {% for meal in meals %}
              <tr>
                <td>{{ meal.meal_name }}</td>
                <td>{{ meal.number_ordered }}</td>
                <td>{{ meal.avail_quantity }}</td>
                <td>{{ meal.price }}</td>
                <td>{{ meal.number_ordered|mul:meal.price }}</td>
              </tr>
            {% endfor %}
            <tr>
              <td>Overall Volumes</td>
              <td>{{ totalVolumes }}</td>
              <td>Overall Gross Profit($)</td>
              <td>{{ totalProfit }}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <div class="valign-wrapper row">
      <div class="col card hoverable s12 m12 l8 pull-l2">
        <div class="card-content">
          {{ stk_bar_cht|safe }}
        </div>
      </div>
    </div>
    <div class="valign-wrapper row">
      <div class="col card hoverable s12 m12 l8 pull-l2">
        <div class="card-content">
          {{ meal_pie_cht|safe }}
        </div>
      </div>
    </div>
    <div class="valign-wrapper row">
      <div class="col card hoverable s12 m12 l8 pull-l2">
        <div class="card-content">
          {{ sales_trend_cht|safe }}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
